import numpy as np
import pandas as pd
import matplotlib.pyplot as plt

def df_encoding(sku: pd.DataFrame) -> pd.DataFrame:
    df_one_hot = sku.copy()
    columns = ['event_name_1', 'event_type_1',	'event_name_2',	'event_type_2', 'weekday']
    # Применить one-hot encoding для указанных столбцов
    df_one_hot = pd.get_dummies(df_one_hot, columns=columns, dtype=int)
    return df_one_hot


def forecast_plot(real_series, forecast1, forecast2, forecast3):
    fig, ax = plt.subplots(figsize=(12, 6))

    # Отрисовка известного временного ряда
    ax.plot(real_series, label='Actual Series', color='blue')

    # Отрисовка прогнозов
    ax.plot(np.arange(len(actual_series), len(actual_series) + len(forecast1)), 
            forecast1, label='Forecast 1', color='red', linestyle='--')
    ax.plot(np.arange(len(actual_series), len(actual_series) + len(forecast2)), 
            forecast2, label='Forecast 2', color='green', linestyle=':')
    ax.plot(np.arange(len(actual_series), len(actual_series) + len(forecast3)), 
            forecast3, label='Forecast 3', color='orange', linestyle='-.')

    # Настройка меток и легенды
    ax.set_xlabel('Time')
    ax.set_ylabel('Cnt')
    ax.grid(True)
    ax.legend()

    return fig
